{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useEffect, useState } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport BackHandler from \"react-native-web/dist/exports/BackHandler\";\nimport { DrawerActions, useFocusEffect, StackActions } from \"@react-navigation/native\";\nimport { RectButton } from \"react-native-gesture-handler\";\nimport { Feather } from \"@expo/vector-icons\";\nimport styles from \"./styles\";\nimport LoadingScreen from \"../../../components/loadingScreen\";\nimport SearchBar from \"../../../components/searchBar\";\nimport { ButtonAdicionar } from \"../../../components/buttons\";\nimport { ButtonMenu } from \"../../../components/buttons\";\nimport api from \"../../../services/api\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nfunction Veiculos(_ref) {\n  var navigation = _ref.navigation;\n  var listaVazia = true;\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      carregando = _useState2[0],\n      setCarregando = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      erroCarregar = _useState4[0],\n      setErroCarregar = _useState4[1];\n\n  var _useState5 = useState([]),\n      _useState6 = _slicedToArray(_useState5, 2),\n      carros = _useState6[0],\n      setCarros = _useState6[1];\n\n  function handleNavigateToVisualizarVeiculo(id) {\n    navigation.navigate(\"VisualizarVeiculo\", {\n      id: id\n    });\n  }\n\n  function handleNavigateToCadastroVeiculo() {\n    navigation.navigate(\"CadastroVeiculo\");\n  }\n\n  useEffect(function () {\n    setCarregando(true);\n    api.get('carros/1').then(function (response) {\n      setCarros(response.data);\n      setCarregando(false);\n    }).catch(function () {\n      setCarregando(false);\n      setErroCarregar(true);\n    });\n  }, []);\n  useFocusEffect(function () {\n    var backAction = function backAction() {\n      var pushAction = StackActions.push('Home');\n      navigation.dispatch(pushAction);\n      return true;\n    };\n\n    var backHandler = BackHandler.addEventListener(\"hardwareBackPress\", backAction);\n    return function () {\n      return backHandler.remove();\n    };\n  });\n\n  if (carros.length > 0) {\n    listaVazia = false;\n  }\n\n  return _jsxs(ScrollView, {\n    contentContainerStyle: {\n      flexGrow: 1\n    },\n    children: [_jsx(LoadingScreen, {\n      carregando: carregando\n    }), _jsxs(View, {\n      style: styles.container,\n      children: [_jsx(View, {\n        style: styles.header,\n        children: _jsxs(View, {\n          style: styles.headerGroup,\n          children: [_jsx(ButtonMenu, {\n            title: \"\",\n            onPress: function onPress() {\n              return navigation.dispatch(DrawerActions.openDrawer());\n            }\n          }), _jsx(Text, {\n            style: styles.headerText,\n            children: \"Ve\\xEDculos\"\n          }), _jsx(SearchBar, {})]\n        })\n      }), _jsx(ButtonAdicionar, {\n        title: \"Adicionar ve\\xEDculo\",\n        onPress: handleNavigateToCadastroVeiculo\n      }), _jsx(View, {\n        style: styles.content,\n        children: erroCarregar ? _jsxs(View, {\n          style: styles.listagemErro,\n          children: [_jsx(Feather, {\n            name: \"cloud-off\",\n            size: 50,\n            color: '#F0EFF4'\n          }), _jsx(Text, {\n            style: {\n              color: 'white',\n              fontSize: 20,\n              paddingTop: 20\n            },\n            children: \"N\\xE3o foi poss\\xEDvel carregar os dados!\"\n          })]\n        }) : listaVazia ? _jsxs(View, {\n          style: styles.listagemErro,\n          children: [_jsx(Feather, {\n            name: \"archive\",\n            size: 50,\n            color: '#F0EFF4'\n          }), _jsx(Text, {\n            style: {\n              color: 'white',\n              fontSize: 20,\n              paddingTop: 20\n            },\n            children: \"Ops, voc\\xEA n\\xE3o tem carros cadastrados!\"\n          })]\n        }) : carros.map(function (carro) {\n          return _jsx(View, {\n            style: styles.veiculos,\n            children: _jsxs(RectButton, {\n              style: styles.buttonVeiculo,\n              onPress: function onPress() {\n                return handleNavigateToVisualizarVeiculo(carro.id);\n              },\n              children: [_jsxs(View, {\n                style: styles.buttonGroupText,\n                children: [_jsx(Text, {\n                  numberOfLines: 1,\n                  style: styles.buttonVeiculoText,\n                  children: carro.modelo\n                }), _jsxs(Text, {\n                  style: styles.buttonVeiculoTextManutencaoGreen,\n                  children: [_jsx(Feather, {\n                    name: \"check-circle\",\n                    size: 16,\n                    color: \"#5CB85C\"\n                  }), \" Manuten\\xE7\\xE3o em dia\"]\n                })]\n              }), carro.images.length > 0 ? _jsx(Image, {\n                source: {\n                  uri: carro.images[0].url\n                },\n                style: styles.imgVeiculo\n              }, carro.images[0].url) : _jsx(View, {\n                style: styles.imgVeiculo,\n                children: _jsx(Feather, {\n                  name: \"image\",\n                  size: 50,\n                  color: \"white\"\n                })\n              })]\n            })\n          }, carro.id);\n        })\n      })]\n    })]\n  });\n}\n\nexport default Veiculos;","map":{"version":3,"sources":["C:/Users/tizen/OneDrive/Documentos/GitHub/MeuPossante/mobile/src/pages/home/veiculos/veiculos.tsx"],"names":["React","useEffect","useState","DrawerActions","useFocusEffect","StackActions","RectButton","Feather","styles","LoadingScreen","SearchBar","ButtonAdicionar","ButtonMenu","api","Veiculos","navigation","listaVazia","carregando","setCarregando","erroCarregar","setErroCarregar","carros","setCarros","handleNavigateToVisualizarVeiculo","id","navigate","handleNavigateToCadastroVeiculo","get","then","response","data","catch","backAction","pushAction","push","dispatch","backHandler","BackHandler","addEventListener","remove","length","flexGrow","container","header","headerGroup","openDrawer","headerText","content","listagemErro","color","fontSize","paddingTop","map","carro","veiculos","buttonVeiculo","buttonGroupText","buttonVeiculoText","modelo","buttonVeiculoTextManutencaoGreen","images","uri","url","imgVeiculo"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { View, Text, Image, ScrollView, BackHandler } from \"react-native\";\r\nimport { DrawerActions, useFocusEffect, StackActions } from \"@react-navigation/native\";\r\nimport { RectButton } from \"react-native-gesture-handler\";\r\nimport { Feather } from \"@expo/vector-icons\";\r\n\r\nimport styles from \"./styles\";\r\nimport LoadingScreen from \"../../../components/loadingScreen\";\r\nimport SearchBar from \"../../../components/searchBar\";\r\nimport { ButtonAdicionar } from '../../../components/buttons';\r\nimport { ButtonMenu } from '../../../components/buttons';\r\nimport api from \"../../../services/api\";\r\n\r\ninterface Carros {\r\n  id: number;\r\n  marca: string;\r\n  modelo: string;\r\n  images: Array<{\r\n    id: number;\r\n    url: string;\r\n  }>;\r\n}\r\n\r\nfunction Veiculos({ navigation }: any) {\r\n\r\n  let listaVazia = true;\r\n\r\n  const [carregando, setCarregando] = useState(false);\r\n  const [erroCarregar, setErroCarregar] = useState(false);\r\n  const [carros, setCarros] = useState<Carros[]>([]);\r\n\r\n  function handleNavigateToVisualizarVeiculo(id: number) {\r\n    navigation.navigate(\"VisualizarVeiculo\", { id });\r\n  }\r\n\r\n  function handleNavigateToCadastroVeiculo() {\r\n    navigation.navigate(\"CadastroVeiculo\");\r\n  }\r\n\r\n  useEffect(() => {\r\n    setCarregando(true);\r\n    api.get('carros/1').then(response => {\r\n      setCarros(response.data);\r\n      setCarregando(false);\r\n    }).catch(() => {\r\n      setCarregando(false);\r\n      setErroCarregar(true);\r\n    })\r\n  }, [])\r\n\r\n  useFocusEffect(() => {\r\n    const backAction = () => {\r\n      const pushAction = StackActions.push('Home');\r\n      navigation.dispatch(pushAction);\r\n      return true;\r\n    };\r\n\r\n    const backHandler = BackHandler.addEventListener(\r\n      \"hardwareBackPress\",\r\n      backAction\r\n    );\r\n\r\n    return () => backHandler.remove();\r\n  });\r\n\r\n  if (carros.length > 0) {\r\n    listaVazia = false\r\n  }\r\n\r\n  return (\r\n    <ScrollView contentContainerStyle={{ flexGrow: 1 }}>\r\n      <LoadingScreen carregando={carregando} />\r\n      <View style={styles.container}>\r\n        <View style={styles.header}>\r\n          <View style={styles.headerGroup}>\r\n            <ButtonMenu title=\"\" onPress={() => navigation.dispatch(DrawerActions.openDrawer())} />\r\n            <Text style={styles.headerText}>Veículos</Text>\r\n            <SearchBar></SearchBar>\r\n          </View>\r\n        </View>\r\n        <ButtonAdicionar title=\"Adicionar veículo\" onPress={handleNavigateToCadastroVeiculo} />\r\n        <View style={styles.content}>\r\n          {erroCarregar\r\n            ?\r\n            <View style={styles.listagemErro}>\r\n              <Feather name='cloud-off' size={50} color={'#F0EFF4'} />\r\n              <Text style={{ color: 'white', fontSize: 20, paddingTop: 20 }}>Não foi possível carregar os dados!</Text>\r\n            </View>\r\n            :\r\n            listaVazia\r\n              ?\r\n              <View style={styles.listagemErro}>\r\n                <Feather name='archive' size={50} color={'#F0EFF4'} />\r\n                <Text style={{ color: 'white', fontSize: 20, paddingTop: 20 }}>Ops, você não tem carros cadastrados!</Text>\r\n              </View>\r\n              :\r\n              carros.map(carro => {\r\n                return (\r\n                  <View key={carro.id} style={styles.veiculos}>\r\n                    <RectButton style={styles.buttonVeiculo} onPress={() => handleNavigateToVisualizarVeiculo(carro.id)}>\r\n                      <View style={styles.buttonGroupText}>\r\n                        <Text numberOfLines={1} style={styles.buttonVeiculoText}>{carro.modelo}</Text>\r\n                        <Text style={styles.buttonVeiculoTextManutencaoGreen}><Feather name=\"check-circle\" size={16} color=\"#5CB85C\" /> Manutenção em dia</Text>\r\n                      </View>\r\n                      {carro.images.length > 0\r\n                        ?\r\n                        <Image key={carro.images[0].url} source={{ uri: carro.images[0].url }} style={styles.imgVeiculo} />\r\n                        :\r\n                        <View style={styles.imgVeiculo}>\r\n                          <Feather name=\"image\" size={50} color='white' />\r\n                        </View>\r\n                      }\r\n                    </RectButton>\r\n                  </View>\r\n                );\r\n              })\r\n          }\r\n        </View>\r\n      </View>\r\n    </ScrollView>\r\n  );\r\n}\r\nexport default Veiculos;"]},"metadata":{},"sourceType":"module"}